<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>등급 모아 - 등급표 작성하기</title>
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/jquery-3.7.1.min.js"></script>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2854516262266649"
          crossorigin="anonymous"></script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-05WT4V9X4Y"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-05WT4V9X4Y');
  </script>

</head>
<body>
<nav class="navbar">
  <div class="container">
    <div class="logo">
      <img src="/logo.png" alt="Logo" class="logo-img">
      <span class="logo-text">등급 모아</span>
    </div>
    <ul class="nav-menu">
      <li><a href="/">실시간 등급표</a></li>
      <li><a href="/create" class="active">내 등급표 작성하기</a></li>
    </ul>
  </div>
</nav>

<main class="main-content">
  <div class="container">
    <div class="page-header">
      <h1>내 등급표 작성하기</h1>
      <p class="subtitle">항목을 드래그하여 등급표를 만들어보세요</p>
    </div>

    <div class="category-tabs">
      <button class="tab-btn active" data-category="lck_2026_rank" data-number="5">2026 LCK 순위</button>
      <button class="tab-btn" data-category="lck" data-number="0">2026 LCK 선수</button>
<!--      <button class="tab-btn" data-category="car">자동차 브랜드</button>-->
<!--      <button class="tab-btn" data-category="it">IT 기업</button>-->
<!--      <button class="tab-btn" data-category="estate">서울 부동산</button>-->
    </div>

    <div class="create-container">
      <div class="items-pool">
        <h3>항목 선택(1개 이상)</h3>
        <p class="pool-hint">드래그하여 등급에 배치하세요.</p>
        <div class="pool-items" id="itemsPool">
            <th:block th:each="item : ${subjects}">
              <div class="tier-item" draggable="true" th:data-item="${item.name}" th:data-id="${item.id}"
                   th:classappend="'item-' + ${item.category}"
                th:style="${item.category == 5} ? '' : 'display:none'"
              >
                <span class="tier-item-name" th:text="${item.name}"></span>
                <img class="tier-item-image" th:src="${item.img}" th:alt="${item.name}">
              </div>
            </th:block>
        </div>
      </div>

      <div class="tier-pyramid-create" id="tierPyramidCreate">
        <!-- S Tier -->
        <div class="tier-row" data-tier="S">
          <div class="tier-label tier-s">S</div>
          <div class="tier-items drop-zone" data-tier="S"></div>
        </div>

        <!-- A Tier -->
        <div class="tier-row" data-tier="A">
          <div class="tier-label tier-a">A</div>
          <div class="tier-items drop-zone" data-tier="A"></div>
        </div>

        <!-- B Tier -->
        <div class="tier-row" data-tier="B">
          <div class="tier-label tier-b">B</div>
          <div class="tier-items drop-zone" data-tier="B"></div>
        </div>

        <!-- C Tier -->
        <div class="tier-row" data-tier="C">
          <div class="tier-label tier-c">C</div>
          <div class="tier-items drop-zone" data-tier="C"></div>
        </div>

        <!-- D Tier -->
        <div class="tier-row" data-tier="D">
          <div class="tier-label tier-d">D</div>
          <div class="tier-items drop-zone" data-tier="D"></div>
        </div>

        <!-- F Tier -->
        <div class="tier-row" data-tier="F">
          <div class="tier-label tier-f">F</div>
          <div class="tier-items drop-zone" data-tier="F"></div>
        </div>
      </div>
    </div>

    <div class="stats-info">
      <div class="share-modal" id="shareModal">
        <div class="share-modal-content">
          <p>아래 버튼을 클리해서 복사해서 공유하세요.</p>
          <button class="share-btn" id="shareBtn">공유하기</button>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <button class="btn btn-secondary" id="resetBtn">초기화</button>
      <button class="btn btn-primary" id="submitBtn">등급표 제출하기</button>
    </div>
  </div>
</main>

<div class="modal" id="successModal">
  <div class="modal-content">
    <div class="modal-icon">✅</div>
    <h2>등급표 제출 완료!</h2>
    <p>등급표가 성공적으로 제출되었습니다.</p>
    <button class="btn btn-primary" id="closeModal">확인</button>
  </div>
</div>

<script src="/js/create.js"></script>
</body>
</html>
